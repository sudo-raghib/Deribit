# Deribit Trading Client

## Overview

Deribit Trading Client is a C++ application that interacts with the Deribit cryptocurrency trading platform's API. The application allows users to perform various trading operations, including placing orders, modifying orders, canceling orders, retrieving market data, and viewing account positions.

## Demo Video

Watch the [Demo Video](https://drive.google.com/file/d/1j-Eu_1D7kfCVnNWW5iInmbI7vGJ0ylGu/view?usp=sharing) <!-- Replace '#' with the actual link to the video when available -->

## Features

- **Authenticate**: Securely authenticate with the Deribit API using your client ID and client secret.
- **Place Orders**: Place market and limit orders on the Deribit platform.
- **Modify Orders**: Modify existing orders by changing the quantity or price.
- **Cancel Orders**: Cancel open orders using the order ID.
- **Get Order Book**: Retrieve the current order book for a specific instrument.
- **View Positions**: Retrieve and display current account positions.
- **Get Instrument Details**: Fetch details about specific trading instruments.
- **Check Order Status**: Get the current status of an order.

## Prerequisites

- **C++ Compiler**: C++17 or later.
- **CMake**: Version 3.10 or later.
- **Visual Studio Code** (or another C++ IDE).
- **Homebrew** (for macOS users).

## Dependencies

- **libcurl**: For making HTTP requests.
- **OpenSSL**: For handling secure connections (HTTPS).
- **nlohmann/json**: For parsing JSON data.

## Installation

### Step 1: Clone the Repository

```bash
git clone https://github.com/yourusername/DeribitTradingClient.git
cd DeribitTradingClient
```
### Step 2: Install Dependencies

Install libcurl:

```bash
brew install curl
```
Install OpenSSL:
```bash
brew install openssl
```
Install nlohmann/json:

```bash
brew install nlohmann-json
```
### Step 3: Set Up API Credentials

Create a `config.json` file in the project root directory with the following content:

```json
{
    "client_id": "your_client_id",
    "client_secret": "your_client_secret"
}
```

```bash
Replace `your_client_id` and `your_client_secret` with your actual Deribit API credentials. You can obtain these by creating an account on the Deribit Testnet and generating API keys.
```
### Step 4: Configure CMake

Ensure you have a `CMakeLists.txt` file with the following content:

```cmake
cmake_minimum_required(VERSION 3.10)
project(DeribitTradingClient)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_BUILD_TYPE Release)

# Include directories
include_directories(
    ${CMAKE_SOURCE_DIR}
    /usr/local/include
)

# Find packages
find_package(CURL REQUIRED)
find_package(OpenSSL REQUIRED)
find_package(nlohmann_json 3.2.0 REQUIRED)

include_directories(${CURL_INCLUDE_DIR})
include_directories(${OPENSSL_INCLUDE_DIR})
include_directories(${nlohmann_json_INCLUDE_DIR})

# Source files
set(SOURCE_FILES
    main.cpp
    deribit_client.cpp
)

add_executable(deribit_trading_client ${SOURCE_FILES})

target_link_libraries(deribit_trading_client
    ${CURL_LIBRARIES}
    ${OPENSSL_LIBRARIES}
    nlohmann_json::nlohmann_json
)
```
### Step 5: Build the Project

Using Visual Studio Code:
- Open the project folder in Visual Studio Code.
- Ensure you have the CMake and C++ extensions installed.
- Use the CMake Tools extension to configure and build the project.

Using Command Line (Alternative):

```bash
mkdir build
cd build
cmake ..
make
```
### Step 6: Run the Project

Run the `/.DeribitTradingClient` executable generated by the build process.

From Command Line:

```bash
/.DeribitTradingClient
```
## Usage

### Example Commands

Authenticate and Initialize the Client

```cpp
#include "deribit_client.h"

// Read API credentials from config.json
DeribitClient client("your_client_id", "your_client_secret");

// Authenticate with the Deribit API
if (!client.authenticate()) {
    std::cerr << "Authentication failed." << std::endl;
    return -1;
}
```
Place a Limit Buy Order

```cpp
client.placeOrder(
    "BTC-PERPETUAL",
    "buy",
    "limit",
    10.0,      // amount, must be a multiple of contract size
    50000.0,   // price
    [](const nlohmann::json& response) {
        if (response.contains("error")) {
            std::cerr << "Error placing order: " << response["error"]["message"] << std::endl;
        } else {
            std::cout << "Order placed successfully:\n" << response.dump(4) << std::endl;
        }
    }
);
```
Modify an Order

```cpp
client.modifyOrder(
    "your_order_id",   // Replace with the actual order ID
    15.0,              // new amount
    51000.0,           // new price
    [](const nlohmann::json& response) {
        if (response.contains("error")) {
            std::cerr << "Error modifying order: " << response["error"]["message"] << std::endl;
        } else {
            std::cout << "Order modified successfully:\n" << response.dump(4) << std::endl;
        }
    }
);
```
Cancel an Order

```cpp
client.cancelOrder(
    "your_order_id",   // Replace with the actual order ID
    [](const nlohmann::json& response) {
        if (response.contains("error")) {
            std::cerr << "Error canceling order: " << response["error"]["message"] << std::endl;
        } else {
            std::cout << "Order canceled successfully:\n" << response.dump(4) << std::endl;
        }
    }
);
```
Get Order Book

```cpp
client.getOrderBook(
    "BTC-PERPETUAL",
    [](const nlohmann::json& response) {
        if (response.contains("error")) {
            std::cerr << "Error retrieving order book: " << response["error"]["message"] << std::endl;
        } else {
            std::cout << "Order Book:\n" << response.dump(4) << std::endl;
        }
    }
);
```
View Current Positions

```cpp
client.getPositions(
    "BTC",
    [](const nlohmann::json& response) {
        if (response.contains("error")) {
            std::cerr << "Error retrieving positions: " << response["error"]["message"] << std::endl;
        } else {
            std::cout << "Current Positions:\n" << response.dump(4) << std::endl;
        }
    }
);
```



